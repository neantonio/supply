<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://caption"
        class="com.groupstp.supply.web.queriesposition.Suggestionrequestprocessing"
        messagesPack="com.groupstp.supply.web.queriesposition">
    <dsContext>
        <groupDatasource id="positionsWithoutSupplierDs"
                         allowCommit="false"
                         class="com.groupstp.supply.entity.QueriesPosition"
                         view="queriesPosition-full">
            <query>
                <![CDATA[select e from supply$QueriesPosition e where e.id='00000000-0000-0000-0000-000000000000']]>
            </query>
        </groupDatasource>
        <groupDatasource id="alreadySendRequestDs"
                         allowCommit="false"
                         class="com.groupstp.supply.entity.PositionSupplier"
                         view="positionSupplier-full">
            <query>
                <![CDATA[select e from supply$PositionSupplier e where e.id='00000000-0000-0000-0000-000000000000']]>
            </query>
        </groupDatasource>
    </dsContext>
    <dialogMode closeable="true"
                height="600"
                width="800"/>
    <layout>
        <vbox spacing="true">
            <vbox id="withoutSupplierVbox"
                  spacing="true">
                <label description="msg://positions_without_suppliers"
                       value="msg://positions_without_suppliers"
                       width="100%"/>
                <groupTable id="withoutSupplierTable"
                            multiselect="true"
                            width="100%">
                    <columns>
                        <column id="nomenclature.name"/>
                        <column id="quantity"/>
                        <column id="comment"/>
                    </columns>
                    <rows datasource="positionsWithoutSupplierDs"/>
                </groupTable>
                <buttonsPanel>
                    <button id="suppliers"
                            caption="msg://suppliers"
                            invoke="onSuppliersClick"/>
                    <button id="checkAndSend"
                            caption="msg://check-suupplier_and_send"
                            invoke="onCheckAndSendClick"
                            width="230px"/>
                </buttonsPanel>
            </vbox>
            <vbox id="repeatedSendVbox"
                  spacing="true">
                <label value="msg://repeated_request"
                       width="100%"/>
                <buttonsPanel>
                    <button id="sendToAllAgain"
                            caption="msg://send_to_all"
                            invoke="onSendToAllAgainClick"/>
                    <button id="sendToSelected"
                            caption="msg://send_to_selected"
                            invoke="onSendToSelectedClick"/>
                </buttonsPanel>
                <groupTable id="repeatedSendTable"
                            multiselect="true"
                            width="100%">
                    <columns>
                        <column id="position"/>
                        <column id="supplier"/>
                    </columns>
                    <rows datasource="alreadySendRequestDs"/>
                </groupTable>
            </vbox>
        </vbox>
    </layout>
</window>
